\section{图元接口与几何图元}\label{sec:图元接口与几何图元}

\begin{lstlisting}
`\initcode{Primitive Declarations}{=}`
class `\initvar{Primitive}{}` {
public:
    `\refcode{Primitive Interface}{}`
};
\end{lstlisting}

\begin{lstlisting}
`\initcode{Primitive Interface}{=}\initnext{PrimitiveInterface}`
virtual `\refvar{Bounds3f}{}` `\initvar[Primitive::WorldBound]{WorldBound}{()}` const = 0;
\end{lstlisting}

\begin{lstlisting}
`\refcode{Primitive Interface}{+=}\lastnext{PrimitiveInterface}`
virtual bool `\initvar[Primitive::Intersect]{Intersect}{}`(const `\refvar{Ray}{}` &r, `\refvar{SurfaceInteraction}{}` *) const = 0;
virtual bool `\initvar[Primitive::IntersectP]{IntersectP}{}`(const `\refvar{Ray}{}` &r) const = 0;
\end{lstlisting}

\begin{lstlisting}
`\refcode{Primitive Interface}{+=}\lastnext{PrimitiveInterface}`
virtual const `\refvar{AreaLight}{}` *`\initvar{GetAreaLight}{}`() const = 0;
\end{lstlisting}

\begin{lstlisting}
`\refcode{Primitive Interface}{+=}\lastcode{PrimitiveInterface}`
virtual void `\initvar{ComputeScatteringFunctions}{}`(`\refvar{SurfaceInteraction}{}` *isect,
    `\refvar{MemoryArena}{}` &arena, `\refvar{TransportMode}{}` mode,
    bool allowMultipleLobes) const = 0;
\end{lstlisting}

\begin{lstlisting}
`\refcode{SurfaceInteraction Public Data}{+=}\lastnext{SurfaceInteractionPublicData}`
`\refvar{BSDF}{}` *`\initvar{bsdf}{}` = nullptr;
`\refvar{BSSRDF}{}` *`\initvar{bssrdf}{}` = nullptr;
\end{lstlisting}

\subsection{TransformedPrimitive：物体实例化与动画基元}\label{sub:TransformedPrimitive：物体实例化与动画基元}