\section{主要包含文件}\label{sec:主要包含文件}
\begin{lstlisting}
`\initcode{Global Include Files}{=}\initnext{GlobalIncludeFiles}`
#include <algorithm>
#include <cinttypes>
#include <cmath>
#include <iostream>
#include <limits>
#include <memory>
#include <string>
#include <vector>
\end{lstlisting}

\begin{lstlisting}
`\refcode{Global Forward Declarations}{+=}\lastnext{GlobalForwardDeclarations}`
#ifdef PBRT_FLOAT_AS_DOUBLE
typedef double `\initvar{Float}{}`;
#else
typedef float Float;
#endif // PBRT\_FLOAT\_AS\_DOUBLE
\end{lstlisting}

\subsection{实用函数}\label{sub:实用函数}
\subsubsection*{钳位}
\begin{lstlisting}
`\refcode{Global Inline Functions}{+=}\lastnext{GlobalInlineFunctions}`
template <typename T, typename U, typename V>
inline T `\initvar{Clamp}{}`(T val, U low, V high) {
    if (val < low) return low;
    else if (val > high) return high;
    else return val;
}
\end{lstlisting}

\subsection{伪随机数}\label{sub:伪随机数}
{\initvar{RNG}{}}
\begin{lstlisting}
`\initcode{RNG Public Methods}{=}\initnext{RNGPublicMethods}`
`\refvar{RNG}{}`();
`\refvar{RNG}{}`(uint64_t sequenceIndex) { `\refvar{SetSequence}{}`(sequenceIndex); }
\end{lstlisting}

\begin{lstlisting}
`\refcode{RNG Public Methods}{+=}\lastnext{RNGPublicMethods}`
void `\initvar{SetSequence}{}`(uint64_t sequenceIndex);
\end{lstlisting}